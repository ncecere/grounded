# Phase 4: Knowledge base aggregation

Objective
- Extract shared knowledge base summary/count aggregation utilities.

Scope
- Consolidate repeated aggregation queries and mapping logic.

Targets
- apps/api/src/routes/knowledge-bases.ts
- apps/api/src/routes/admin/shared-kbs.ts

Notes
- Keep output shape stable for existing consumers.
